# 第一章 開發前的事前準備

## 1-1 WEB API的介紹以及API的應用
在建構WEB API之前，要先了解WEB API到底是什麼?能理解一個東西的重要性，以及在日常中可以做到些什麼，這對學習程式來說是一個很大的動力，API(Application Programming Interface) – 應用程式介面，簡單來說 API 就是程式與程式之間溝通的橋樑，就像一名華人與英國人對話，我們並不見得能夠理解對方的語言，你可以在溝通的時候慢慢地查閱字典，把對方的話慢慢的整理成你聽得懂的語言，或者請一個英語翻譯員，將對方所說的話全部翻譯成中文再告訴你，從而加快資訊傳遞的速度，而這就是API所扮演的角色。在這個範例中，語言便是不同的資料表示型態，透過WEB API將資訊轉換成雙方都可以通用的資料型態，便是WEB API最主要的功能。不同的工程師所工作的平台及使用的軟體不一定相同，如何跨平台傳遞資料便是WEB API的精隨。

WEB API在我們的生活中無所不在，每天都可以在各處看見它的蹤跡，像是日常生活中不可或缺的社交軟體，WEB API便是其構造中不可或缺的一環，WEB API的主要應用便是跨平台傳輸資料以及簡化資料提取的難度，像是在物聯網中WEB API便是不可或缺的一環，因為可以透過WEB API來對物聯網設備進行資料的交換。

## 1-2 物聯網的介紹
物聯網(Internet of Things)在廣泛的定義中指的是可以使用網路來連接某個**物品**，汽車，智慧手錶，手機等3C物品，只要能連上網路便能在廣義上算是物聯網，但現今的物聯網指的主要是指其功能並非專門用來連上網路的物品，而是指在裝上Wifi晶片與連結感測器後，能夠使用網路進行監控與操控的物品。

近幾年科技急速發展，在各個領域上都有重大的突破，每個人都將3C產品做為生活中不可或缺的一部分，越來越多東西都連上了網路，從前沒有人想過手錶有一天會連上網路，直到智慧型手錶的誕生。而且這些產品正在以極快的速度在普及中，反而言之每個人對網路的依賴與日俱增，物聯網能做到的事也越來越多，比起擔心如何讓某些物品加入物聯網的行列，不如去思考當這個物品聯上網路之後要怎麼去應用。

物聯網讓我們即使身處異地，也可以監控許多資訊，甚至可以避免一些嚴重的災害與利益損失的發生，像是發生地震時，政府會透過手機APP來告知大家將有地震發生，讓大家可以即時迴避災難，避免不必要的傷亡，而這之中不可少的便是物聯網的協助，才能及時提取地震感測儀的資料，並進行及時資料處理，讓我們的安全多了一份保障。

物聯網的運作主要分為四個部分:
1. 資料的取得：透過感測器可以取得物聯網設備的資料，例如取得地震感測儀關於地層變動的詳細資料。
2. 資料的傳遞：物聯網設備會透過網路將這些資料傳遞到指定的存取位置，例如將地層變動的詳細資料傳送到政府的地震資料庫。
3. 資料的處理：此時電腦會通過分析這些資料進行分析或將多餘的資料刪除等並決定行動，例如分析資料後發現台北在1分鐘後將發生四級地震，透過呼叫APP來通知所有台北市民。
4. 資料的用途：這些資料不只可以用於讓系統自動化，同時這些資料也能讓使用者作出一些行動上的決斷，例如收到地震警報市民便能判斷出進行避難的決斷。

對於一個物聯網來說，WEB API的存在是必要的，有了WEB API我們才能控制一個龐大的物連網，以及交換物聯網設備中的各種資訊。

## 1-3 開發工具介紹
### Sql Server 2019 資料庫
Microsoft SQL Server是由微軟所推出的關聯式資料庫，本書所採用的版本為Sql Server 2019，資料庫顧名思義它的主要功能便是存放資料以及提取資料。世界上越來越多的企業會選擇Sql Sever作為當前企業的主要資料庫，因為它的架構完整性與指令發展也逐漸成熟，讓它變成主流的資料庫軟體之一。

### SQL Server Management Studio (SSMS)
SQL Server Management Studio（SSMS）是一個能配合Sql Server的一個軟體，有了SSMS便能使用視覺化操作的方式來管理Sql Server的資料或執行一些資料庫指令。

### Visul Studio 2019
Microsoft Visual Studio 是微軟開發的軟體開發工具(簡稱VS)。VS是一個開發工具集，它包括了UML工具、程式碼管控工具、整合開發環境（IDE）等等。本書會使用到其中兩種C#專案，分別是Windows Forms App(簡稱WinForm)和ASP .NET Core Web Api(可用於開發API)。VS所寫出來的軟體可以在所有微軟自家的平台執行如Windows作業系統，Windows Phone，Windows CE等。而Visual Studio .NET是可以高效率產出ASP.NET Web應用程式和桌面應用程式的工具，Visual Studio的專案便是以.NET架構作為基底進行開發。

### PostMan
PostMan是一個免費的API測試工具，可以用方便的介面去測試API是否有正常運作，而且只要簡單的註冊帳號即可使用PostMan的服務。

### Android Studio
Android Studio是一個官方所開發的Android原生開發軟體，可以透過可視化界面快速的創造出屬於自己的APP，且可以透過程式碼操控手機上的大量元件，本書將使用Android Studio來開發一個可以使用API服務的手機APP。

### XAMPP
XAMPP是一個把Apache網頁服務器與PHP、Perl及MariaDB集合在一起的組合包，可以讓用戶輕鬆的在電腦上建立一個網頁伺服器，本書將使用此軟體來架設網頁與MySQL資料庫。

### PHP
PHP是一個開源的語言程式，非常適合用來編寫網頁的後台，PHP的主要目的是讓開發者可以快速的編寫出一個可以使用的動態網頁頁面，但PHP也被大量應用在其他領域。

### Laravel 網頁框架
Laravel是一個由Taylor Otwell所建立的免費的開源PHP Web 框架Laravel能夠支援用戶身份驗證和授權，具有模組化的套件系統且有專屬的套件庫，提供連接許多種類的關連式資料庫的方式，提供工具來協助應用程式的部署和維持，本書將使用此框架作為API的架設。其中Laravel被視為最受歡迎的 PHP 框架之一。

## 1-4 本書的開發順序
本書將分為十個章節，共七個部分，總共會開發兩套WEB API和兩個使用介面，其中負責編寫二套WEB API與使用介面的人各不相同，這樣才能充分的體現出來自不同領域的專家分工合作的理念與精神。

第一套WEB API將建構一個智慧居家的WEB API服務，智慧居家可以更加便利我們的生活，透過感測器所建立的小型物聯網結構，也能幫助我們防範許多災害的發生，而WEB API對智慧居家這個小型物聯網來說所擔任的是一個跟伺服器溝通的腳色，伺服器才能透過此WEB API來自動化操作一些物品的。第二套WEB API將建構一個WEB API雲端服務平台，這個服務平台最主要的目的是要讓使用者可以特過這個平台取用到平台旗下各式各樣的功能，在本書後面的章節會將兩套WEB API結合起來，讓使用者可以透過WEB API雲端服務平台使用到智慧居家以及其他功能。至於使用者介面，由於WEB API的特性是只需要網路即可享用便利的服務，其中不需要消耗使用者裝置的效能，所以手機便是使用者介面最好的載體。

本書所建立的WEB API具有以下特色:
1. 手把手教您如何從零開始建立一個擁有龐大架構且擁有極高擴展性的WEB API結構。
2. 架設出一個能夠兼容任何各種設備且具有擴充性的WEB API，以及培養以後遇到了其他物聯網設備要如何構出屬於自己的物聯網WEB API的能力。
3. 透過WEB API建立一個中心化的雲端服務平台，讓使用者可以在同一個平台使用到各種客製化服務。
    